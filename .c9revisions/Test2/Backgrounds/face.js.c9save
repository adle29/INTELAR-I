{"ts":1344260981880,"silentsave":true,"restoring":false,"patch":[[{"diffs":[[1,"\nvar xmove = 0;\nvar ymove = 0;\nvar talk = 0;\nvar time = 0;\nvar move = 0;\nvar centerX = canvas.width /2;\nvar centerY = canvas.height /2;\nvar color = [\"rgba(255,0,0,0.6)\",\"rgba(255,0,255,0.6)\", \"rgba(0,0,255,0.6)\",\"rgba(0, 255, 255, 0.6)\",\"rgba(0,255,0, 0.6)\", \"rgba(255,255,0, 0.8)\" ];\n//\t\t\t\trojo            *rosa                *azul fuerte        *  azul claro\t        * verde                   * amarillo\t\t\t\t\n  \n\n\nvar canvas = document.getElementById (\"canvas\");\nvar context = canvas.getContext(\"2d\");  \n  \n//CALL FUNCTIONS\nsetInterval(function(){\n    init();\n    //clearCanvas ();\n    drawFace ( 'pink','red');  \n   // drawMeter (mood);\n    move = move +0.1;\n     if (boolean) {\n      time += 0.5;\n\t    }\n\t   else {\n    \ttime = 0;\n    }\n    \n       },30);\n  \n// FUNCTIONS \n function init () {\n \txmove = Math.cos(move)*8;\n    ymove = Math.sin(move)*3;\n    \n }\n \n function drawMouth () {\n\tif (boolean) {\n\t\ttalk = Math.abs (Math.sin(move)*30);\n\t}\n\telse {\n    \ttalk = 5;\n    }\n\tcontext.beginPath();\n    context.rect(centerX+ xmove-50,centerY+50, 100, talk);\n    context.fillStyle = \"black\";\n    context.fill();\n    context.lineWidth = 5; \n    context.strokeStyle = \"white\";\n    context.stroke();\n}\n\n    \nfunction clearCanvas () {\n    context.clearRect (0,0,canvas.width,canvas.height);\n    }\n    \nfunction drawEyeBrows (x1, x2, y1,y2) {\n    context.beginPath();\n    context.moveTo(x1,y1+centerY+ymove);\n    context.lineTo (x2,y2+centerY+ymove);\n    context.lineWidth = 8;\n    context.strokeStyle = \"white\";\n    context.stroke();\n    }\n    \nfunction drawCircle (x,y, radius, endingAngle , color, color2) {\n        context.beginPath();\n        context.arc (centerX+x, centerY+y,radius, 0,endingAngle);\n        context.fillStyle = color;\n        context.fill();\n        context.lineWidth = 3 ;\n        context.strokeStyle = color2;\n        context.stroke();\n        \n    }\n    \n    \nfunction drawMouth2 () {\n\n  var i, plotX, plotY, screenX, screenY;\n  var numSegments = 100;\n  \n  var plotXMin = -30;\n  var plotXMax = 50;\n  var plotYMin = -10;\n  var plotYMax = 15;\n  \n  var screenXMin = 580;\n  var screenXMax = 670;\n  var screenYMin = centerY+230;\n  var screenYMax = 100;\n\n  function transform(x, min1, max1, min2, max2){\n  // normalizedX is between 0 and 1\n  var normalizedX = (x - min1) / (max1 - min1);\n  return normalizedX * (max2 - min2) + min2;\n}\n\n  function Mouth () {\n    context.beginPath();\n    for (i = 0; i < numSegments; i++) {\n      plotX = transform(i, 0, numSegments, plotXMin, plotXMax);\n      plotY = Math.sin(plotX+time);\n      screenX = transform(plotX, \n                          plotXMin, plotXMax, \n                          screenXMin, screenXMax);\n      screenY = transform(plotY, \n                          plotYMin, plotYMax, \n                          screenYMin, screenYMax);\n      if(i === 0){\n        context.moveTo(screenX+xmove, screenY+ymove);   \n      }\n      else{\n        context.lineTo(screenX+xmove, screenY+ymove);\n      }\n      context.lineWidth = 0.9;\n      context.strokeStyle = 'white';\n      context.stroke();\n    }\n  \n}\n  Mouth();\n}\n    \nfunction drawFace (color1,color2) {\n\t\tif (mood > 5) {\n\t\t\tmood = 5;\n\t\t}  \n\t\tif (mood < 0) {\n\t\t\tmood = 0;\n\t\t}\n\n      drawCircle (xmove, ymove , 123, 2*Math.PI, color[mood], 'rgba(132,112,255, 0.6)');\n\n      drawCircle (xmove, ymove , 120, 2*Math.PI, \"rgba(132,112,255, 0.3)\", 'rgba(255, 255, 255, 0.6)');\n      drawCircle (xmove, ymove , 118, 2*Math.PI, \"rgba(0, 255, 255, 0.0)\", 'rgba(132,112,255, 0.6)');\n\n      //eyes\n      drawCircle (-50+xmove,-20+ymove,35+ymove, 2*Math.PI ,'white', 'rgba(132,112,255, 0.6)');\n      drawCircle (50+xmove,-20+ymove,35+ymove, 2*Math.PI ,'white', 'rgba(132,112,255, 0.6)\t');\n      \n      //innerEyes\n      drawCircle (-45+xmove,-20,20+ymove, 2*Math.PI ,'rgba(127,255,0,0.6)', 'rgba(132,112,255, 0.6)');\n      drawCircle (45+xmove,-20,20+ymove, 2*Math.PI ,'rgba(127,255,0,0.6)', 'rgba(132,112,255, 0.6)');\n      \n      //innerInnerEyes\n      drawCircle (-45+xmove,-20,5+ymove, 2*Math.PI ,'rgba(132,112,255, 0.6)', 'rgba(132,112,255, 0.6)');\n      drawCircle (45+xmove,-20,5+ymove, 2*Math.PI ,'rgba(132,112,255, 0.6)', 'rgba(132,112,255, 0.6)');\n\n     //drawMouth\n     //drawMouth ();\n     drawMouth2 ();\n      \n     //draw eye brows      \n      drawEyeBrows(centerX-15+xmove, centerX-60+xmove,-65, -65);\n      drawEyeBrows(centerX+20+xmove, centerX+65+xmove,-65, -65);\n    }\n\nfunction drawMeter (x) {\n\tvar moveX = canvas.width-xmove;\n\tvar moveY = canvas.height-ymove;\n\tcontext.beginPath();\n    context.rect(moveX+(mood*70), moveY, 5, 40);\n    context.fillStyle =color[mood];\n    context.fill();\n    //console.log(mood);\n}\n"]],"start1":0,"start2":0,"length1":0,"length2":4634}]],"length":4634}
